var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,h=Math.pow,c=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;import{e as r,d as l,u,r as a,o,c as i,a as p,w as d,b as f,t as g,f as m,N as y,g as w,F as v,h as b,i as S,j as k,k as _,l as j,m as x,n as T,p as $,q as V,s as q,v as E,x as F,y as C,z as N,A,B as I,C as O,D as P,E as U,G as M,H as z,I as B,J as G,K as L,L as H,M as J,O as Q,P as K,Q as R}from"./vendor.e8af1c7b.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var D={eq:5,impliedby:4.1,imply:4,nor:3.1,or:3,xor:2.5,nand:2.1,and:2,not:1,atom:0,true:0,false:0};class Z{constructor(){this.children=[],this.str=""}ch(e){return this.children[e]}static quote(e,t){return D[e.type]<=D[t.type]?`(${t})`:t.toString()}updateStr(){this.children.forEach((e=>e.updateStr())),1===this.children.length?this.str=`${this.operator}${Z.quote(this,this.children[0])}`:2===this.children.length&&(this.str=`${Z.quote(this,this.children[0])} ${this.operator} ${Z.quote(this,this.children[1])}`)}toString(){return this.str}dfsTruth(e){return void 0===e[this.str]&&(e[this.str]=this.calc(e)?1:0),!!e[this.str]}}class W extends Z{constructor(e){super(),this.type="atom",this.operator="",this.str=e}calc(){return!!this.type}}class X extends Z{constructor(e){super(),this.type="not",this.operator="¬",this.children.push(e)}calc(e){return!this.children[0].dfsTruth(e)}}class Y extends Z{constructor(e,t){super(),this.type="and",this.operator="∧",this.children.push(e,t)}calc(e){const t=this.children[1].dfsTruth(e);return this.children[0].dfsTruth(e)&&t}}class ee extends Z{constructor(e,t){super(),this.type="nand",this.operator="↑",this.children.push(e,t)}calc(e){const t=this.children[1].dfsTruth(e);return!(this.children[0].dfsTruth(e)&&t)}}class te extends Z{constructor(e,t){super(),this.type="xor",this.operator="⊕",this.children.push(e,t)}calc(e){return this.children[0].dfsTruth(e)!==this.children[1].dfsTruth(e)}}class ne extends Z{constructor(e,t){super(),this.type="or",this.operator="∨",this.children.push(e,t)}calc(e){const t=this.children[1].dfsTruth(e);return this.children[0].dfsTruth(e)||t}}class se extends Z{constructor(e,t){super(),this.type="nor",this.operator="↓",this.children.push(e,t)}calc(e){const t=this.children[1].dfsTruth(e);return!(this.children[0].dfsTruth(e)||t)}}class he extends Z{constructor(e,t){super(),this.type="imply",this.operator="→",this.children.push(e,t)}calc(e){const t=this.children[1].dfsTruth(e);return!this.children[0].dfsTruth(e)||t}}class ce extends Z{constructor(e,t){super(),this.type="impliedby",this.operator="←",this.children.push(e,t)}calc(e){const t=this.children[0].dfsTruth(e);return!this.children[1].dfsTruth(e)||t}}class re extends Z{constructor(e,t){super(),this.type="eq",this.operator="⟷",this.children.push(e,t)}calc(e){return this.children[0].dfsTruth(e)===this.children[1].dfsTruth(e)}}class le extends Z{constructor(){super(),this.type="true",this.operator="",this.str="T"}calc(){return!!this.type}}class ue extends Z{constructor(){super(),this.type="false",this.operator="",this.str="F"}calc(){return!this.type}}const ae={"=":5,"<":4.1,">":4,"↓":3.1,"|":3,"^":2.5,"↑":2.1,"&":2};const oe=l({props:{node:null,root:null,addStep:null},setup(e){const t=e,n=u(),s=a(!1),h=[];function c(){h.length=0,h.push(...function(e){const t=[];switch(e.type){case"and":e.ch(0).type===e.type&&t.push({name:"结合律",result:new Y(e.ch(0).ch(0),new Y(e.ch(0).ch(1),e.ch(1)))}),e.ch(1).type===e.type&&t.push({name:"结合律",result:new Y(new Y(e.ch(0),e.ch(1).ch(0)),e.ch(1).ch(1))}),t.push({name:"交换律",result:new Y(e.ch(1),e.ch(0))}),"or"===e.ch(0).type&&"or"===e.ch(1).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"分配律",result:new ne(e.ch(0).ch(0),new Y(e.ch(0).ch(1),e.ch(1).ch(1)))}),"or"===e.ch(1).type&&t.push({name:"分配律",result:new ne(new Y(e.ch(0),e.ch(1).ch(0)),new Y(e.ch(0),e.ch(1).ch(1)))}),e.ch(0).toString()===e.ch(1).toString()&&t.push({name:"等幂律",result:e.ch(0)}),"or"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"吸收律",result:e.ch(0)}),"not"===e.ch(0).type&&"not"===e.ch(1).type&&t.push({name:"摩根律",result:new X(new ne(e.ch(0).ch(0),e.ch(1).ch(0)))}),"not"===e.ch(1).type&&t.push({name:"摩根律",result:new X(new he(e.ch(0),e.ch(1).ch(0)))}),"true"===e.ch(1).type&&t.push({name:"同一律",result:e.ch(0)}),"false"===e.ch(1).type&&t.push({name:"零律",result:e.ch(1)}),"not"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"补余律",result:new ue}),"imply"===e.ch(0).type&&"imply"===e.ch(1).type&&e.ch(0).ch(1).toString()===e.ch(1).ch(1).toString()&&t.push({name:"前提析取合并",result:new he(new ne(e.ch(0).ch(0),e.ch(1).ch(0)),e.ch(0).ch(1))}),"or"===e.ch(0).type&&"or"===e.ch(1).type&&"not"===e.ch(0).ch(1).type&&"not"===e.ch(1).ch(0).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(0).ch(0).toString()&&e.ch(0).ch(1).ch(0).toString()===e.ch(1).ch(1).toString()&&t.push({name:"从取假来描述双条件",result:new re(e.ch(0).ch(0),e.ch(1).ch(1))}),"imply"===e.ch(0).type&&"imply"===e.ch(1).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(1).toString()&&e.ch(0).ch(1).toString()===e.ch(1).ch(0).toString()&&t.push({name:"等价等值式",result:new re(e.ch(0).ch(0),e.ch(0).ch(1))}),"imply"===e.ch(0).type&&"imply"===e.ch(1).type&&"not"===e.ch(1).ch(1).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(0).toString()&&e.ch(0).ch(1).toString()===e.ch(1).ch(1).ch(0).toString()&&t.push({name:"归谬论",result:new X(e.ch(0).ch(0))});break;case"atom":break;case"eq":e.ch(0).type===e.type&&t.push({name:"结合律",result:new re(e.ch(0).ch(0),new re(e.ch(0).ch(1),e.ch(1)))}),e.ch(1).type===e.type&&t.push({name:"结合律",result:new re(new re(e.ch(0),e.ch(1).ch(0)),e.ch(1).ch(1))}),t.push({name:"交换律",result:new re(e.ch(1),e.ch(0))}),e.ch(0).toString()===e.ch(1).toString()&&t.push({name:"等幂律",result:new le}),"true"===e.ch(0).type&&t.push({name:"同一律",result:e.ch(1)}),"false"===e.ch(0).type&&t.push({name:"同一律",result:new X(e.ch(1))}),"not"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"补余律",result:new ue}),t.push({name:"从取真来描述双条件",result:new ne(new Y(e.ch(0),e.ch(1)),new Y(new X(e.ch(0)),new X(e.ch(1))))},{name:"从取假来描述双条件",result:new Y(new ne(e.ch(0),new X(e.ch(1))),new ne(new X(e.ch(0)),e.ch(1)))},{name:"等价等值式",result:new Y(new he(e.ch(0),e.ch(1)),new he(e.ch(1),e.ch(0)))});break;case"false":t.push({name:"F = ¬T",result:new X(new le)});break;case"impliedby":t.push({name:"被蕴含的定义",result:new he(e.ch(1),e.ch(0))});break;case"imply":"imply"===e.ch(1).type&&t.push({name:"分配律",result:new he(new he(e.ch(0),e.ch(1).ch(0)),new he(e.ch(0),e.ch(1).ch(1)))}),e.ch(0).toString()===e.ch(1).toString()&&t.push({name:"等幂律",result:new le}),"true"===e.ch(0).type&&t.push({name:"同一律",result:e.ch(1)}),"false"===e.ch(1).type&&t.push({name:"同一律",result:new X(e.ch(0))}),"true"===e.ch(1).type&&t.push({name:"零律",result:e.ch(1)}),"false"===e.ch(0).type&&t.push({name:"零律",result:new le}),"not"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"补余律",result:e.ch(1)}),"not"===e.ch(0).type&&e.ch(1).toString()===e.ch(0).ch(0).toString()&&t.push({name:"补余律",result:e.ch(1)}),t.push({name:"蕴含等值式",result:new ne(new X(e.ch(0)),e.ch(1))},{name:"假言易位",result:new he(new X(e.ch(1)),new X(e.ch(0)))}),"not"===e.ch(0).type&&"not"===e.ch(1).type&&t.push({name:"假言易位",result:new he(e.ch(1).ch(0),e.ch(0).ch(0))}),"imply"===e.ch(1).type&&t.push({name:"前提合取合并",result:new he(new Y(e.ch(0),e.ch(1).ch(0)),e.ch(1).ch(1))},{name:"前提交换",result:new he(e.ch(1).ch(0),new he(e.ch(0),e.ch(1).ch(1)))}),"and"===e.ch(0).type&&t.push({name:"前提合取合并",result:new he(e.ch(0).ch(0),new he(e.ch(0).ch(1),e.ch(1)))}),"or"===e.ch(0).type&&t.push({name:"前提析取合并",result:new Y(new he(e.ch(0).ch(0),e.ch(1)),new he(e.ch(0).ch(1),e.ch(1)))});break;case"nand":t.push({name:"与非的定义",result:new X(new Y(e.ch(0),e.ch(1)))});break;case"nor":t.push({name:"或非的定义",result:new X(new ne(e.ch(0),e.ch(1)))});break;case"not":"not"===e.ch(0).type&&t.push({name:"双重否定律",result:e.ch(0).ch(0)}),"or"===e.ch(0).type&&t.push({name:"摩根律",result:new Y(new X(e.ch(0).ch(0)),new X(e.ch(0).ch(1)))}),"and"===e.ch(0).type&&t.push({name:"摩根律",result:new ne(new X(e.ch(0).ch(0)),new X(e.ch(0).ch(1)))}),"imply"===e.ch(0).type&&t.push({name:"摩根律",result:new Y(e.ch(0).ch(0),new X(e.ch(0).ch(1)))}),"eq"===e.ch(0).type&&t.push({name:"摩根律",result:new ne(new Y(new X(e.ch(0).ch(0)),e.ch(0).ch(1)),new Y(e.ch(0).ch(0),new X(e.ch(0).ch(1))))}),"true"===e.ch(0).type&&t.push({name:"¬T = F",result:new ue}),"false"===e.ch(0).type&&t.push({name:"¬F = T",result:new le});break;case"or":e.ch(0).type===e.type&&t.push({name:"结合律",result:new ne(e.ch(0).ch(0),new ne(e.ch(0).ch(1),e.ch(1)))}),e.ch(1).type===e.type&&t.push({name:"结合律",result:new ne(new ne(e.ch(0),e.ch(1).ch(0)),e.ch(1).ch(1))}),t.push({name:"交换律",result:new ne(e.ch(1),e.ch(0))}),"and"===e.ch(1).type&&t.push({name:"分配律",result:new Y(new ne(e.ch(0),e.ch(1).ch(0)),new ne(e.ch(0),e.ch(1).ch(1)))}),"and"===e.ch(0).type&&"and"===e.ch(1).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"分配律",result:new Y(e.ch(0).ch(0),new ne(e.ch(0).ch(1),e.ch(1).ch(1)))}),e.ch(0).toString()===e.ch(1).toString()&&t.push({name:"等幂律",result:e.ch(0)}),"and"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"吸收律",result:e.ch(0)}),"not"===e.ch(0).type&&"not"===e.ch(1).type&&t.push({name:"摩根律",result:new X(new Y(e.ch(0).ch(0),e.ch(1).ch(0)))}),"and"===e.ch(0).type&&"and"===e.ch(1).type&&"not"===e.ch(0).ch(0).type&&"not"===e.ch(1).ch(1).type&&e.ch(0).ch(0).ch(0).toString()===e.ch(1).ch(0).toString()&&e.ch(0).ch(1).toString()===e.ch(1).ch(1).ch(0).toString()&&t.push({name:"摩根律",result:new X(new re(e.ch(1).ch(0),e.ch(0).ch(1)))}),"false"===e.ch(1).type&&t.push({name:"同一律",result:e.ch(0)}),"true"===e.ch(1).type&&t.push({name:"零律",result:e.ch(1)}),"not"===e.ch(1).type&&e.ch(0).toString()===e.ch(1).ch(0).toString()&&t.push({name:"补余律",result:new le}),"not"===e.ch(0).type&&t.push({name:"蕴涵等值式",result:new he(e.ch(0).ch(0),e.ch(1))}),"and"===e.ch(0).type&&"and"===e.ch(1).type&&"not"===e.ch(1).ch(0).type&&"not"===e.ch(1).ch(1).type&&e.ch(0).ch(0).toString()===e.ch(1).ch(0).ch(0).toString()&&e.ch(0).ch(1).toString()===e.ch(1).ch(1).ch(0).toString()&&t.push({name:"从取真来描述双条件",result:new re(e.ch(0).ch(0),e.ch(0).ch(1))});break;case"xor":t.push({name:"异或的定义",result:new X(new re(e.ch(0),e.ch(1)))});break;case"true":t.push({name:"T = ¬F",result:new X(new ue)});break;default:r(e.type)}return t}(t.node)),h.forEach((({result:e})=>e.updateStr())),0===h.length?n.error({title:"错误",content:"没有可用的等值公式",positiveText:"😢"}):s.value=!0}function l(e,n){e.children.forEach(((s,h)=>{s===t.node?e.children[h]=n:l(s,n)}))}function k(e){t.node===t.root?t.addStep({exp:e.result.toString(),rule:e.name}):(l(t.root,e.result),t.root.updateStr(),t.addStep({exp:t.root.toString(),rule:e.name})),s.value=!1}return(t,n)=>(o(),i(v,null,[p(m(y),{onClick:c},{default:d((()=>[f(g(e.node),1)])),_:1}),p(m(S),{show:s.value,"onUpdate:show":n[0]||(n[0]=e=>s.value=e),preset:"dialog",title:"置换"},{default:d((()=>[p(m(w),null,{default:d((()=>[f("你要将 "+g(e.node)+" 替换成？",1)])),_:1}),(o(),i(v,null,b(h,((e,t)=>p(m(y),{key:t,onClick:t=>k(e)},{default:d((()=>[f(g(e.result)+" （"+g(e.name)+"） ",1)])),_:2},1032,["onClick"]))),64))])),_:1},8,["show"])],64))}});function ie(e,h,r){const{children:l,type:u}=e,a={title:"atom"!==u?()=>k(oe,{node:e,root:h,addStep:r}):e.toString(),key:e.toString(),align:"center"},o=((e,h)=>{for(var r in h||(h={}))n.call(h,r)&&c(e,r,h[r]);if(t)for(var r of t(h))s.call(h,r)&&c(e,r,h[r]);return e})({title:e.operator,key:e.toString(),align:"center"},e===h?{className:"truth-table-result"}:{});return 1===l.length?a.children=[o,ie(l[0],h,r)]:2===l.length&&(a.children=[ie(l[0],h,r),o,ie(l[1],h,r)]),a}class pe{constructor(e,t){this.values=e,this.value=t,this.used=!1,this.values.sort()}toString(){return`m(${this.values.join(", ")}) = ${this.value}`}equals(e){return e instanceof pe&&(this.value===e.value&&this.values.length===e.values.length&&this.values.every(((t,n)=>t===e.values[n])))}getValues(){return this.values}getValue(){return this.value}isUsed(){return this.used}use(){this.used=!0}combine(e){if(this.value===e.value)return null;if(this.values.length===e.values.length&&this.values.every(((t,n)=>t===e.values[n])))return null;let t=0,n="";for(let s=0;s<this.value.length;s+=1)if(this.value.charAt(s)!==e.value.charAt(s)?(t+=1,n+="-"):n+=this.value.charAt(s),t>1)return null;return new pe(this.values.concat(e.values),n)}}function de(e,t){return Boolean(t.find((t=>e instanceof pe&&t instanceof pe?e.equals(t):t===e)))}class fe{constructor(e,t,n,s=[],h=!1){t.sort(),this.variables=e,this.values=t,this.allValues=t.concat(s),this.allValues.sort(),this.dontCares=s,this.isMaxterm=h,this.costomSymbol=n,this.func=this.getFunction()||""}getBits(e){let t=(e>>>0).toString(2);for(let n=t.length;n<this.variables.length;n+=1)t=`0${t}`;return t}initialGroup(){const e=[];for(let t=0;t<this.variables.length+1;t+=1)e.push([]);for(const t of this.allValues){let n=0;const s=this.getBits(t);for(const e of s)"1"===e&&(n+=1);e[n].push(new pe([t],s))}return e}static powerSet(e,t){let n=[];for(let r=1;r<h(2,t.length)-1;r+=1){const e=[];let s=(r>>>0).toString(2);for(let n=s.length;n<t.length;n+=1)s=`0${s}`;for(let n=0;n<s.length;n+=1)"1"===s.charAt(n)&&e.push(t[n]);n.push(e)}const s=[];for(const h of n){const t=[];for(const n of h)for(const s of n.getValues())!de(s,t)&&de(s,e)&&t.push(s);t.sort(),t.length===e.length&&t.every(((t,n)=>t===e[n]))&&s.push(h)}n=s;let c=n[0];for(const h of n)h.length<c.length&&(c=h);return void 0===c?[]:c}getPrimeImplicants(e=this.initialGroup()){if(1===e.length)return e[0];const t=[],n=[...Array(e.length-1).keys()],s=n.map((()=>[]));for(const h of n){const t=e[h],n=e[h+1];for(const e of t)for(const t of n){const n=e.combine(t);null!==n&&(e.use(),t.use(),de(n,s[h])||s[h].push(n))}}for(const h of e)for(const e of h)e.isUsed()||de(e,t)||t.push(e);for(const h of this.getPrimeImplicants(s))h.isUsed()||de(h,t)||t.push(h);return t}solve(){let e=this.getPrimeImplicants();const t=[],n=[];for(let r=0;r<this.values.length;r+=1)n.push(!1);for(let r=0;r<this.values.length;r+=1){const s=this.values[r];let h=0,c=null;for(const t of e)de(s,t.getValues())&&(h+=1,c=t);if(1===h&&c&&!de(c,t)){for(const e of c.getValues())de(e,this.dontCares)||(n[this.values.indexOf(e)]=!0);t.push(c)}}let s=!1;for(const r of n)if(!r){s=!0;break}if(!s)return t;const h=[];for(const r of e)if(!de(r,t)){let e=!1;for(const t of r.getValues())if(!de(t,this.dontCares)){e=!0;break}e&&h.push(r)}if(e=h,1===e.length)return t.concat(e);const c=[];for(let r=0;r<this.values.length;r+=1)n[r]||c.push(this.values[r]);return t.concat(fe.powerSet(c,e))}getFunction(){if(null!=this.func)return this.func;const e=this.solve();if(0===e.length)return"0";if(1===e.length){let t=0;for(const n of e[0].getValue())"-"===n&&(t+=1);if(t===this.variables.length)return"1"}let t="";for(let n=0;n<e.length;n+=1){const s=e[n];(s.getValue().match(/-/g)||[]).length<this.variables.length-1&&(t+="(");for(let e=0;e<s.getValue().length;e+=1)s.getValue().charAt(e)===(this.isMaxterm?"1":"0")&&(t+=this.costomSymbol.not),"-"!==s.getValue().charAt(e)&&(t+=this.variables[e]),(s.getValue().substring(e+1).match(/-/g)||[]).length<s.getValue().length-e-1&&"-"!==s.getValue().charAt(e)&&(t+=this.isMaxterm?` ${this.costomSymbol.disjunction} `:` ${this.costomSymbol.conjunction} `);(s.getValue().match(/-/g)||[]).length<this.variables.length-1&&(t+=")"),n<e.length-1&&(t+=this.isMaxterm?` ${this.costomSymbol.conjunction} `:` ${this.costomSymbol.disjunction} `)}return t}}const ge=f(" 修改展示的逻辑符号 "),me=f(" 主合取范式 = "),ye={key:0},we=f(" π "),ve=f(" = "),be=f(" 主析取范式 = "),Se={key:0},ke=f(" Σ "),_e=f(" = "),je=f(" 保存 "),xe=l({props:{atoms:null,truths:null},setup(e){const t=e,n=a(),s={conjunction:{required:!0,trigger:"blur",message:"请输入逻辑与符号"},disjunction:{required:!0,trigger:"blur",message:"请输入逻辑或符号"},not:{required:!0,trigger:"blur",message:"请输入逻辑取反符号"}},h="symbols",c=localStorage.getItem(h),r=a(c?JSON.parse(c):{conjunction:"∧",disjunction:"∨",not:"¬"}),l=_((()=>{const e=[],n=[],s=[],h=[];return t.truths.forEach(((c,l)=>{const u=[];t.atoms.forEach(((e,n)=>{c===!!(l>>t.atoms.length-1-n&1)?u.push(e):u.push(`${r.value.not}${e}`)})),c?(h.push(l),n.push(`(${u.join(` ${r.value.conjunction} `)})`)):(s.push(l),e.push(`(${u.join(` ${r.value.disjunction} `)})`))})),{pcnf:e.length?e.join(` ${r.value.conjunction} `):"T",pdnf:n.length?n.join(` ${r.value.disjunction} `):"F",pcnfSub:s.join(", "),pdnfSub:h.join(", "),pdnfNums:h,pcnfNums:s}})),u=_((()=>{const e=new fe(t.atoms.join(""),l.value.pcnfNums,r.value,[],!0).getFunction();return{dnf:new fe(t.atoms.join(""),l.value.pdnfNums,r.value).getFunction(),cnf:e}})),w=a(!1);function b(){n.value.validate((e=>{e?w.value=!0:(localStorage.setItem(h,JSON.stringify(r.value)),w.value=!1)}))}return(e,t)=>(o(),i(v,null,[p(m(y),{text:"",type:"primary",onClick:t[0]||(t[0]=e=>w.value=!0)},{default:d((()=>[ge])),_:1}),j("p",null,[p(m(T),{"expand-trigger":"click","line-clamp":1,tooltip:!1},{default:d((()=>[me,m(l).pcnfSub.length?(o(),i("span",ye,[we,j("sub",null,g(m(l).pcnfSub),1),ve])):x("",!0),f(" "+g(m(l).pcnf),1)])),_:1})]),j("p",null,[p(m(T),{"expand-trigger":"click","line-clamp":1,tooltip:!1},{default:d((()=>[be,m(l).pdnfSub.length?(o(),i("span",Se,[ke,j("sub",null,g(m(l).pdnfSub),1),_e])):x("",!0),f(" "+g(m(l).pdnf),1)])),_:1})]),j("p",null,[p(m(T),{"expand-trigger":"click","line-clamp":1,tooltip:!1},{default:d((()=>[f(" 最简合取范式 = "+g(m(u).cnf),1)])),_:1})]),j("p",null,[p(m(T),{"expand-trigger":"click","line-clamp":1,tooltip:!1},{default:d((()=>[f(" 最简析取范式 = "+g(m(u).dnf),1)])),_:1})]),p(m(S),{show:w.value,"onUpdate:show":t[4]||(t[4]=e=>w.value=e),preset:"dialog",title:"修改展示的逻辑符号"},{action:d((()=>[p(m(y),{type:"primary",onClick:b},{default:d((()=>[je])),_:1})])),default:d((()=>[p(m($),{ref:(e,t)=>{t.formRef=e,n.value=e},inline:"","label-width":80,model:r.value,rules:s},{default:d((()=>[p(m(V),{label:"逻辑与",path:"conjunction"},{default:d((()=>[p(m(q),{value:r.value.conjunction,"onUpdate:value":t[1]||(t[1]=e=>r.value.conjunction=e),placeholder:"请输入逻辑与符号"},null,8,["value"])])),_:1}),p(m(V),{label:"逻辑或",path:"disjunction"},{default:d((()=>[p(m(q),{value:r.value.disjunction,"onUpdate:value":t[2]||(t[2]=e=>r.value.disjunction=e),placeholder:"请输入逻辑或符号"},null,8,["value"])])),_:1}),p(m(V),{label:"逻辑取反",path:"not"},{default:d((()=>[p(m(q),{value:r.value.not,"onUpdate:value":t[3]||(t[3]=e=>r.value.not=e),placeholder:"请输入逻辑取反符号"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])],64))}}),Te=j("br",null,null,-1),$e=l({props:{steps:null},setup:e=>(t,n)=>(o(),E(m(F),{justify:"space-between"},{default:d((()=>[p(m(w),{style:{"text-indent":"1em"}},{default:d((()=>[(o(!0),i(v,null,b(e.steps,((e,t)=>(o(),i("span",{key:t},[f(g(t?"=":"")+" "+g(e.exp)+" "+g(e.rule?`（${e.rule}）`:"")+" ",1),Te])))),128))])),_:1})])),_:1}))});var Ve=(e,t)=>{for(const[n,s]of t)e[n]=s;return e};const qe=f(" 原仓库 Source Code @ GitHub "),Ee=f(" 修改版仓库 Source Code @ GitHub "),Fe=f(" 运算符的种类，表示方法，以及优先级顺序： "),Ce=f("非: ¬, !, ！, ~"),Ne=f("与: ∧, &"),Ae=f("与非: ↑, ⊼"),Ie=f("异或: ⊕, ^, ⊻"),Oe=f("或: ∨, |, ｜, v"),Pe=f("或非: ↓, ⊽"),Ue=f("蕴含（右结合）: →, >"),Me=f("被蕴含: ←, <"),ze=f("等价: ↔, ⟷, ="),Be=f("T/F 表示 true/false"),Ge=f("命题变项用除了 T/F 的单个字母表示"),Le=f("可以点击表头中的按钮来进行等值演算；如果没有发现你想要的规则，很可能是要多用几次交换律"),He=f(" 撤销 ");var Je=Ve(l({setup(e){C((e=>({e5e23430:m(S)})));const t=a(""),n=a([]),s=a(""),h=a(void 0),c=a([]),l=a([]),u=a(0),i=a([]),f=a([]),g=a(!1);function v(e){n.value.push(e)}function b(){n.value.pop()}N(t,(e=>{n.value=[{exp:e,rule:""}]})),N([n,()=>n.value.length],(([e,t])=>{g.value=!1;const{exp:a}=e[t-1];if(c.value=[],l.value=[],0===a.length)return s.value="",void(h.value=void 0);const o=function(e){try{let t=function(){return l[l.length-1]},n=function(e){return"string"==typeof e&&/^[&↑^↓|><=]$/.test(e)},s=function(e){if(0===t().length)return void t().push(e);const h=t()[t().length-1];function c(){return`Invalid expression: "${e}" after "${h}"`}if("!"===h){if(n(e))throw c();"!"===e?t().push("!"):(t().pop(),s(new X(e)))}else if(n(h)){if(n(e))throw c();t().push(e)}else{if(!n(e))throw c();t().push(e)}},h=function(){const e=new Error("Reduce error"),n=t().pop();if("object"!=typeof n)throw e;const h=t().pop();if("string"!=typeof h)throw e;const c=t().pop();if("object"!=typeof c)throw e;switch(h){case"&":s(new Y(c,n));break;case"↑":s(new ee(c,n));break;case"^":s(new te(c,n));break;case"↓":s(new se(c,n));break;case"|":s(new ne(c,n));break;case">":s(new he(c,n));break;case"<":s(new ce(c,n));break;case"=":s(new re(c,n));break;case"!":throw e;default:r(h)}};const c=e.replace(/\s/g,"").replace(/∧/g,"&").replace(/⊼/g,"↑").replace(/⊻|⊕/g,"^").replace(/⊽/g,"↓").replace(/∨|v|｜/g,"|").replace(/⟷|↔/g,"=").replace(/→/g,">").replace(/←/g,"<").replace(/¬|~|！/g,"!").replace(/（/g,"(").replace(/）/g,")");if(/[^A-Za-z()!&|><=↑^↓]/.test(c))return null;const l=[[]],u=new Map;for(let e=0;e<c.length;e+=1){const n=c[e];switch(n){case"(":l.push([]);break;case")":{for(;t().length>1;)h();const e=t()[0];if("object"!=typeof e)throw Error("End bracket error");l.pop(),s(e);break}case"&":case"↑":case"^":case"↓":case"|":case">":case"<":case"=":for(;t().length>1;){const e=t()[t().length-2];if("string"!=typeof e||"!"===e)throw Error("Invalid stack");if(!(ae[e]<ae[n]||e===n&&">"!==n))break;h()}s(n);break;case"!":s("!");break;case"T":s(new le);break;case"F":s(new ue);break;default:{const e=new W(n);let t=u.get(n);t||(t=[],u.set(n,t)),t.push(e),s(e);break}}}if(1!==l.length)throw Error("Bracket error");for(;t().length>1;)h();const a=t()[0];if("string"==typeof a)throw Error("Invalid root");return a.updateStr(),{root:a,atomNodes:u}}catch(t){return null}}(a);if(!o)return s.value="表达式好像不合法 😢",void(h.value="error");const{root:p,atomNodes:d}=o;if(1===t&&(n.value[0].exp=p.toString()),d.size>12)return s.value="命题变项太多了 😫",void(h.value="error");d.size>6?(s.value="命题变项有点多诶 🤔",h.value="warning"):(s.value="",h.value="success"),g.value=!0;const m=function(e,t,n){const s=[],h=Array.from(t.keys()).sort();h.forEach((e=>{s.push({title:e,key:e,align:"center"})})),s.push(ie(e,e,n));const c=[],r=[];for(let l=0;l<1<<h.length;l+=1){const t={key:l};for(let e=0;e<h.length;e+=1)t[h[e]]=l>>h.length-1-e&1;r.push(e.dfsTruth(t)),c.push(t)}return{atoms:h,columns:s,data:c,truths:r}}(p,d,v);c.value=m.columns,l.value=m.data,i.value=m.atoms,f.value=m.truths,u.value+=1}));const S=A(I().value,"successColor");return(e,r)=>(o(),E(m(F),{id:"main",vertical:""},{default:d((()=>[p(m(O),{title:"真值表生成器",subtitle:"原作者 by. ouuan | 修改版 by. ascodelife"}),p(m(P),{href:"https://github.com/ouuan/truth-table-generator"},{default:d((()=>[qe])),_:1}),p(m(P),{href:"https://github.com/ascodelife/truth-table-generator"},{default:d((()=>[Ee])),_:1}),p(m(B),{title:"输入"},{default:d((()=>[p(m(w),null,{default:d((()=>[p(m(U),null,{default:d((()=>[p(m(M),null,{default:d((()=>[Fe,p(m(z),null,{default:d((()=>[p(m(M),null,{default:d((()=>[Ce])),_:1}),p(m(M),null,{default:d((()=>[Ne])),_:1}),p(m(M),null,{default:d((()=>[Ae])),_:1}),p(m(M),null,{default:d((()=>[Ie])),_:1}),p(m(M),null,{default:d((()=>[Oe])),_:1}),p(m(M),null,{default:d((()=>[Pe])),_:1}),p(m(M),null,{default:d((()=>[Ue])),_:1}),p(m(M),null,{default:d((()=>[Me])),_:1}),p(m(M),null,{default:d((()=>[ze])),_:1})])),_:1})])),_:1}),p(m(M),null,{default:d((()=>[Be])),_:1}),p(m(M),null,{default:d((()=>[Ge])),_:1}),p(m(M),null,{default:d((()=>[Le])),_:1})])),_:1})])),_:1}),p(m(V),{label:"输入逻辑表达式","validation-status":h.value,feedback:s.value},{default:d((()=>[p(m(q),{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e),maxlength:200,placeholder:"!(P & Q) = !P | !Q"},null,8,["value"])])),_:1},8,["validation-status","feedback"])])),_:1}),g.value&&i.value.length?(o(),E(m(B),{key:0,title:"主范式与最简范式"},{default:d((()=>[p(xe,{atoms:i.value,truths:f.value},null,8,["atoms","truths"])])),_:1})):x("",!0),n.value.length>1?(o(),E(m(B),{key:1,title:"等值演算"},{default:d((()=>[p(m(F),{justify:"space-between"},{default:d((()=>[p($e,{steps:n.value},null,8,["steps"]),p(m(y),{type:"warning",onClick:b},{default:d((()=>[He])),_:1})])),_:1})])),_:1})):x("",!0),g.value?(o(),E(m(B),{key:2,title:"真值表"},{default:d((()=>[p(m(G),{key:u.value,data:l.value,columns:c.value,"single-line":!1,"single-column":!0,pagination:{pageSize:20}},null,8,["data","columns"])])),_:1})):x("",!0)])),_:1}))}}),[["__scopeId","data-v-188bf32f"]]);R(l({setup(e){const t=_((()=>"dark"===Q().value?K:null));return(e,n)=>(o(),E(m(L),{theme:m(t)},{default:d((()=>[p(m(H)),p(m(J),null,{default:d((()=>[p(Je)])),_:1})])),_:1},8,["theme"]))}})).mount("#app");
